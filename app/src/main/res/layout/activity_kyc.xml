<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".KycActivity">

    <!-- This PreviewView from CameraX will display the live camera feed.
         It will fill the entire screen, acting as the background.
         The ID is corrected to 'cameraPreview' to match ViewBinding. -->
    <androidx.camera.view.PreviewView
        android:id="@+id/cameraPreview"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <!--
    This is the new guide box for the face. It's an ImageView that uses the oval
    drawable we created. This replaces the old rectangular View.
    The ID is corrected to 'guideBox' to match ViewBinding.
    -->
    <ImageView
        android:id="@+id/guideBox"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:background="@drawable/oval_frame_drawable"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintDimensionRatio="H,1:1.3"
        app:layout_constraintWidth_percent="0.75"
        app:layout_constraintVertical_bias="0.45"
        android:contentDescription="@string/face_guide_box" />

    <!-- TextView for displaying instructions to the user.
         It has a dark background for better readability over the camera feed.
         The ID is corrected to 'textInstructions' to match ViewBinding. -->
    <TextView
        android:id="@+id/textInstructions"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:background="#80000000"
        android:padding="16dp"
        android:textAlignment="center"
        android:textColor="@android:color/white"
        android:textSize="18sp"
        android:textStyle="bold"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        tools:text="@string/kyc_instructions_id" />

    <!-- A ProgressBar to show when the app is processing the image.
         It is hidden by default and will be shown from the Java code.
         The ID is corrected to 'progressBar' to match ViewBinding. -->
    <ProgressBar
        android:id="@+id/progressBar"
        style="?android:attr/progressBarStyleLarge"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:visibility="gone"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        tools:visibility="visible" />

</androidx.constraintlayout.widget.ConstraintLayout>